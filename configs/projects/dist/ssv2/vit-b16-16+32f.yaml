_BASE: ../vit_base_16_ssv2.yaml
TRAIN:
  MIXED_PRECISION: true
  NUM_FOLDS: 4
  EVAL_PERIOD: 4
  ENABLE: true

TEST:
  OVERRIDE_MULTI_SCALE_TEST:
    ENABLE: true
    NUM_SPATIAL_CROPS: 1
    NUM_ENSEMBLE_VIEWS: 3

DATA:
  SAMPLING_MODE: segment_based
  TRAIN_MULTI_SCALE_CROP: false
  TRAIN_JITTER_SCALES: [0.4, 1.0]
  SPARSE_SAMPLE_ALPHA: 2
  NUM_INPUT_FRAMES: 32
  TEST_SCALE: 224
  DATASET_LABEL_TEXT: 
    ENABLE: true

VIDEO:
  BACKBONE:
    FREEZE_TEXT: true
    FREEZE_VISUAL: true
    ATTEN_BLOCK: ResidualAttentionBlockMid
    DIST:
      ENABLE: true
      S_PATCH_SIZE: 16
      T_PATCH_SIZE: 5
      SPATIAL_CLS_TOKEN_INIT_AS_ZERO: false

      TEMPORAL_KERNEL_SIZE: 3
      TEMPORAL_CONV_MLP_RATIO: 1
      TEMPORAL_USE_LAYER_NORM: true

      INTEGRATION_MLP_RATIO: 1
      INTEGRATION_TEMPORAL_MLP_RATIO: 0.25

      ADA_POOLING_LAYERS: 2

      INTEGRATION_DIM: 384
      TEMPORAL_DIM: 96

      SELECTED_LAYERS: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]
    RECORD_TEXT_MID_FEAT: false
    RECORD_VIS_MID_FEAT: true
  HEAD:
    NAME: ClipVideoTextIdentity
OPTIMIZER:
  BASE_LR: 3.2e-5
  NEW_NET_LRMULT: 10.0
  NEW_NET_WEIGHT_DECAY: 0.0001
  BETAS: [0.9, 0.999]
  MAX_EPOCH: 36
  WARMUP_EPOCHS: 6

AUGMENTATION:
  COLOR_JITTER_P: 0.
  COLOR_AUG: true
  BRIGHTNESS: 0.4
  CONTRAST: 0.4
  SATURATION: 0.2
  HUE: 0.1
  GRAYSCALE: 0.2
  MIXUP: 
    ENABLE: true
    ALPHA: 0.8
    PROB: 1.0
    MODE: batch
    SWITCH_PROB: 0.5
  CUTMIX: 
    ENABLE: true
    ALPHA: 1.0
    MINMAX: 
  RANDOM_ERASING:
    ENABLE: false
    PROB: 0.25
    MODE: pixel
    COUNT: [1, 1]
    NUM_SPLITS: 1
    AREA_RANGE: [0.02, 0.33]
    MIN_ASPECT: 0.3
  AUTOAUGMENT:
    ENABLE: false
    BEFORE_CROP: true
    TYPE: rand-m9-mstd0.5-inc1
  LABEL_SMOOTHING: 0.1

OUTPUT_DIR: output/vit-b16-16+32f_ssv2
OSS:
  ENABLE: false